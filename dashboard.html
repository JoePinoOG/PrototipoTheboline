<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theboline - Panel Administrador</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="header">
            <h1>Theboline - Dashboard</h1>
            <div class="user-info">
                <span>Bienvenido, Admin</span>
                <button onclick="logout()" class="logout-btn">Cerrar Sesión</button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="sidebar">
            <ul>
                <li><a href="#" onclick="showSection('dashboard')" class="nav-link active">Dashboard</a></li>
                <li><a href="#" onclick="showSection('users')" class="nav-link">Gestión de Usuarios</a></li>
                <li><a href="#" onclick="showSection('products')" class="nav-link">Productos</a></li>
                <li><a href="#" onclick="showSection('promotions')" class="nav-link">Promociones</a></li>
                <li><a href="#" onclick="showSection('reorders')" class="nav-link">Órdenes de Reposición</a></li>
                <li><a href="#" onclick="showSection('reports')" class="nav-link">Reportes</a></li>
                <li><a href="#" onclick="showSection('settings')" class="nav-link">Configuración</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <h2>Panel Principal</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Clientes Activos</h3>
                        <p class="stat-number">2,847</p>
                    </div>
                    <div class="stat-card">
                        <h3>Productos en Stock</h3>
                        <p class="stat-number">1,234</p>
                    </div>
                    <div class="stat-card">
                        <h3>Ventas Hoy</h3>
                        <p class="stat-number">$12.450.000</p>
                    </div>
                    <div class="stat-card">
                        <h3>Pedidos Pendientes</h3>
                        <p class="stat-number">67</p>
                    </div>
                </div>
            </section>

            <!-- Users Section -->
            <section id="users" class="content-section">
                <h2>Gestión de Usuarios</h2>
                <div class="section-controls">
                    <button class="btn btn-primary">Agregar Usuario</button>
                    <input type="search" placeholder="Buscar usuarios..." class="search-input">
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Email</th>
                                <th>Rol</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>001</td>
                                <td>Juan Pérez</td>
                                <td>juan@email.com</td>
                                <td>Administrador</td>
                                <td><span class="status active">Activo</span></td>
                                <td>
                                    <button class="btn btn-small">Editar</button>
                                    <button class="btn btn-small btn-danger">Eliminar</button>
                                </td>
                            </tr>
                            <tr>
                                <td>002</td>
                                <td>María García</td>
                                <td>maria@email.com</td>
                                <td>Usuario</td>
                                <td><span class="status active">Activo</span></td>
                                <td>
                                    <button class="btn btn-small">Editar</button>
                                    <button class="btn btn-small btn-danger">Eliminar</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Products Section -->
            <section id="products" class="content-section">
                <h2>Gestión de Productos</h2>
                <div class="section-controls">
                    <button class="btn btn-primary" onclick="openAddProductModal()">Agregar Producto</button>
                    <select class="filter-select">
                        <option>Todas las categorías</option>
                        <option>Zapatillas</option>
                        <option>Ropa</option>
                        <option>Accesorios</option>
                    </select>
                </div>
                <div class="products-grid" id="productsGrid">
                    <!-- Los productos se cargarán dinámicamente desde la carpeta productos -->
                </div>
            </section>

            <!-- Promotions Section -->
            <section id="promotions" class="content-section">
                <h2>Gestión de Promociones</h2>
                <div class="section-controls">
                    <button class="btn btn-primary" onclick="openAddPromotionModal()">Crear Promoción</button>
                    <select class="filter-select" onchange="filterPromotions(this.value)">
                        <option value="">Todas las promociones</option>
                        <option value="active">Activas</option>
                        <option value="inactive">Inactivas</option>
                        <option value="expired">Expiradas</option>
                    </select>
                </div>
                <div class="promotions-grid" id="promotionsGrid">
                    <!-- Las promociones se cargarán dinámicamente -->
                </div>
            </section>

            <!-- Reorders Section -->
            <section id="reorders" class="content-section">
                <h2>Órdenes de Reposición</h2>
                <div class="section-controls">
                    <button class="btn btn-primary" onclick="openCreateReorderModal()">Crear Orden Manual</button>
                    <button class="btn btn-secondary" onclick="generateAutomaticReorders()">Generar Órdenes Automáticas</button>
                    <select class="filter-select" onchange="filterReorders(this.value)">
                        <option value="">Todas las órdenes</option>
                        <option value="Pendiente Aprobación">Pendientes</option>
                        <option value="Aprobada">Aprobadas</option>
                        <option value="Completada">Completadas</option>
                    </select>
                </div>
                <div class="reorders-grid" id="reordersGrid">
                    <!-- Las órdenes se cargarán dinámicamente -->
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="content-section">
                <h2>Reportes</h2>
                <div class="reports-grid">
                    <div class="report-card">
                        <h3>Reporte de Ventas</h3>
                        <p>Análisis de ventas del último mes</p>
                        <button class="btn btn-primary">Generar Reporte</button>
                    </div>
                    <div class="report-card">
                        <h3>Reporte de Usuarios</h3>
                        <p>Estadísticas de usuarios activos</p>
                        <button class="btn btn-primary">Generar Reporte</button>
                    </div>
                    <div class="report-card">
                        <h3>Reporte de Inventario</h3>
                        <p>Estado actual del inventario</p>
                        <button class="btn btn-primary">Generar Reporte</button>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section">
                <h2>Configuración</h2>
                <div class="settings-form">
                    <div class="form-group">
                        <label>Nombre de la Aplicación:</label>
                        <input type="text" value="Theboline" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Email de Contacto:</label>
                        <input type="email" value="admin@theboline.com" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Configuración de Notificaciones:</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" checked> Email de nuevos usuarios</label>
                            <label><input type="checkbox" checked> Notificaciones de ventas</label>
                            <label><input type="checkbox"> Reportes automáticos</label>
                        </div>
                    </div>
                    <button class="btn btn-primary">Guardar Configuración</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal para crear promoción -->
    <div id="addPromotionModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAddPromotionModal()">&times;</span>
            <h2>Crear Nueva Promoción</h2>
            <form id="addPromotionForm">
                <div class="form-group">
                    <label for="promotionName">Nombre de la Promoción:</label>
                    <input type="text" id="promotionName" name="promotionName" required class="form-input" placeholder="Ej: Descuento de Temporada">
                </div>
                
                <div class="form-group">
                    <label for="promotionDescription">Descripción:</label>
                    <textarea id="promotionDescription" name="promotionDescription" class="form-input" placeholder="Descripción de la promoción..." rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="discountType">Tipo de Descuento:</label>
                    <select id="discountType" name="discountType" class="form-input" onchange="toggleDiscountFields()">
                        <option value="percentage">Porcentaje</option>
                        <option value="fixed">Monto Fijo</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="discountValue">Valor del Descuento:</label>
                    <input type="number" id="discountValue" name="discountValue" required class="form-input" placeholder="20" min="0">
                    <small id="discountHint">Porcentaje de descuento (ej: 20 para 20%)</small>
                </div>
                
                <div class="form-group">
                    <label for="minPurchase">Compra Mínima:</label>
                    <input type="number" id="minPurchase" name="minPurchase" class="form-input" placeholder="50000" min="0" step="1000">
                </div>
                
                <div class="form-group">
                    <label for="maxDiscount">Descuento Máximo:</label>
                    <input type="number" id="maxDiscount" name="maxDiscount" class="form-input" placeholder="30000" min="0" step="1000">
                </div>
                
                <div class="form-group">
                    <label for="validFrom">Válido Desde:</label>
                    <input type="date" id="validFrom" name="validFrom" required class="form-input">
                </div>
                
                <div class="form-group">
                    <label for="validUntil">Válido Hasta:</label>
                    <input type="date" id="validUntil" name="validUntil" required class="form-input">
                </div>
                
                <div class="form-group">
                    <label for="promotionCode">Código de Promoción:</label>
                    <input type="text" id="promotionCode" name="promotionCode" class="form-input" placeholder="DESCUENTO20" style="text-transform: uppercase;">
                </div>
                
                <div class="form-group">
                    <label>Categorías Aplicables:</label>
                    <div class="checkbox-group">
                        <label><input type="checkbox" name="categories" value="Zapatillas"> Zapatillas</label>
                        <label><input type="checkbox" name="categories" value="Ropa"> Ropa</label>
                        <label><input type="checkbox" name="categories" value="Accesorios"> Accesorios</label>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary">Crear Promoción</button>
            </form>
        </div>
    </div>

    <!-- Modal para crear orden de reposición -->
    <div id="createReorderModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCreateReorderModal()">&times;</span>
            <h2>Crear Orden de Reposición Manual</h2>
            <form id="createReorderForm">
                <div class="form-group">
                    <label for="reorderProduct">Producto:</label>
                    <select id="reorderProduct" name="reorderProduct" required class="form-input" onchange="toggleNewProductFields()">
                        <option value="">Seleccionar producto</option>
                        <option value="new_product">+ Crear Producto Nuevo</option>
                        <!-- Se llenarán dinámicamente -->
                    </select>
                </div>
                
                <!-- Campos para producto nuevo (inicialmente ocultos) -->
                <div id="newProductFields" style="display: none;">
                    <h4>Información del Producto Nuevo</h4>
                    <div class="form-group">
                        <label for="newProductName">Nombre del Producto:</label>
                        <input type="text" id="newProductName" name="newProductName" class="form-input" placeholder="Ej: Zapatillas Nike Air Max">
                    </div>
                    
                    <div class="form-group">
                        <label for="newProductCategory">Categoría:</label>
                        <select id="newProductCategory" name="newProductCategory" class="form-input">
                            <option value="">Seleccionar categoría</option>
                            <option value="Zapatillas">Zapatillas</option>
                            <option value="Ropa">Ropa</option>
                            <option value="Accesorios">Accesorios</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="newProductPrice">Precio de Venta:</label>
                        <input type="number" id="newProductPrice" name="newProductPrice" class="form-input" placeholder="89990" min="0" step="10">
                    </div>
                    
                    <div class="form-group">
                        <label for="newProductDescription">Descripción:</label>
                        <textarea id="newProductDescription" name="newProductDescription" class="form-input" placeholder="Descripción del producto..." rows="2"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Tallas Disponibles:</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="newProductSizes" value="S"> S</label>
                            <label><input type="checkbox" name="newProductSizes" value="M"> M</label>
                            <label><input type="checkbox" name="newProductSizes" value="L"> L</label>
                            <label><input type="checkbox" name="newProductSizes" value="XL"> XL</label>
                            <label><input type="checkbox" name="newProductSizes" value="38"> 38</label>
                            <label><input type="checkbox" name="newProductSizes" value="39"> 39</label>
                            <label><input type="checkbox" name="newProductSizes" value="40"> 40</label>
                            <label><input type="checkbox" name="newProductSizes" value="41"> 41</label>
                            <label><input type="checkbox" name="newProductSizes" value="42"> 42</label>
                            <label><input type="checkbox" name="newProductSizes" value="43"> 43</label>
                            <label><input type="checkbox" name="newProductSizes" value="Única"> Única</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="reorderQuantity">Cantidad a Solicitar:</label>
                    <input type="number" id="reorderQuantity" name="reorderQuantity" required class="form-input" placeholder="20" min="1">
                </div>
                
                <div class="form-group">
                    <label for="reorderPriority">Prioridad:</label>
                    <select id="reorderPriority" name="reorderPriority" class="form-input">
                        <option value="Baja">Baja</option>
                        <option value="Media" selected>Media</option>
                        <option value="Alta">Alta</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="reorderNotes">Notas:</label>
                    <textarea id="reorderNotes" name="reorderNotes" class="form-input" placeholder="Notas adicionales..." rows="3"></textarea>
                </div>
                
                <div id="reorderSummary" class="form-group" style="display: none;">
                    <h4>Resumen de la Orden:</h4>
                    <div id="reorderDetails"></div>
                </div>
                
                <button type="submit" class="btn btn-primary">Crear Orden</button>
            </form>
        </div>
    </div>

    <!-- Modal para agregar producto -->
    <div id="addProductModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAddProductModal()">&times;</span>
            <h2>Agregar Nuevo Producto</h2>
            <div style="background: #e3f2fd; padding: 10px; border-radius: 5px; margin-bottom: 15px; color: #1565c0;">
                <strong>Modo Prototipo:</strong> Este formulario agregará un producto con datos de prueba predefinidos.
            </div>
            <form id="addProductForm">
                <div class="form-group">
                    <label for="productImage">Imagen del Producto:</label>
                    <input type="file" id="productImage" name="productImage" accept="image/*" class="form-input">
                    <small>Formatos soportados: JPG, PNG, GIF</small>
                </div>
                
                <div class="form-group">
                    <label for="productTitle">Título del Producto:</label>
                    <input type="text" id="productTitle" name="productTitle" required class="form-input" placeholder="Ej: Zapatillas Nike Air Max">
                </div>
                
                <div class="form-group">
                    <label for="productPrice">Precio:</label>
                    <input type="number" id="productPrice" name="productPrice" required class="form-input" placeholder="0.00" step="0.01" min="0">
                </div>
                
                <div class="form-group">
                    <label for="productStock">Cantidad en Stock:</label>
                    <input type="number" id="productStock" name="productStock" required class="form-input" placeholder="0" min="0">
                </div>
                
                <div class="form-group">
                    <label for="productType">Tipo de Producto:</label>
                    <select id="productType" name="productType" required class="form-input">
                        <option value="">Seleccionar tipo</option>
                        <option value="Zapatillas">Zapatillas</option>
                        <option value="Ropa">Ropa</option>
                        <option value="Accesorios">Accesorios</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="productSizes">Tallas Disponibles:</label>
                    <div class="checkbox-group">
                        <label><input type="checkbox" name="sizes" value="XS"> XS</label>
                        <label><input type="checkbox" name="sizes" value="S"> S</label>
                        <label><input type="checkbox" name="sizes" value="M"> M</label>
                        <label><input type="checkbox" name="sizes" value="L"> L</label>
                        <label><input type="checkbox" name="sizes" value="XL"> XL</label>
                        <label><input type="checkbox" name="sizes" value="XXL"> XXL</label>
                    </div>
                    <small>Para zapatillas, también agregar tallas numéricas:</small>
                    <div class="checkbox-group">
                        <label><input type="checkbox" name="sizes" value="36"> 36</label>
                        <label><input type="checkbox" name="sizes" value="37"> 37</label>
                        <label><input type="checkbox" name="sizes" value="38"> 38</label>
                        <label><input type="checkbox" name="sizes" value="39"> 39</label>
                        <label><input type="checkbox" name="sizes" value="40"> 40</label>
                        <label><input type="checkbox" name="sizes" value="41"> 41</label>
                        <label><input type="checkbox" name="sizes" value="42"> 42</label>
                        <label><input type="checkbox" name="sizes" value="43"> 43</label>
                        <label><input type="checkbox" name="sizes" value="44"> 44</label>
                        <label><input type="checkbox" name="sizes" value="45"> 45</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="productDescription">Descripción:</label>
                    <textarea id="productDescription" name="productDescription" class="form-input" placeholder="Descripción del producto..." rows="3"></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary">Agregar Producto de Prueba</button>
            </form>
        </div>
    </div>

    <script src="js/common.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>
